# Supabase (core)
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_URL=                                  # KB indexer
SUPABASE_DB_URL=                               # migrations / tooling only
DEFAULT_WORKSPACE_ID=

# App URLs & general
APP_BASE_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_DEMO_UI=false
NEXT_PUBLIC_INBOX_SLA_HOURS=24
NEXT_PUBLIC_SALES_WA=

# Access control & feature toggles
ADMIN_EMAILS=
ADMIN_EMAIL=
GIGAVIZ_OWNER_EMAILS=
DEV_FULL_ACCESS_EMAILS=
DEV_ADMIN_EMAILS=
DEV_ADMIN_EMAIL=
OPS_ENABLED=0
SUPERVISOR_TAKEOVER_ENABLED=false
SKILL_ROUTING_ENABLED=false
MERGE_ENABLED=false
ENABLE_BILLING_TEST_MODE=false
ENABLE_META_EVENTS_SEND=false

# Ops Access
GIGAVIZ_OWNER_EMAILS=your-email@gmail.com
DEV_ADMIN_EMAILS=your-email@gmail.com
OPS_ENABLED=1

# Email (Resend)
RESEND_API_KEY=
RESEND_FROM_AUTH=
RESEND_FROM_CONTACT=
CONTACT_RECIPIENT_EMAIL=

# Analytics
NEXT_PUBLIC_GA_ID=

# Sentry Error Monitoring
NEXT_PUBLIC_SENTRY_DSN=                        # Sentry DSN (get from sentry.io project settings)
SENTRY_ORG=                                    # Sentry organization slug (for source map uploads)
SENTRY_PROJECT=                                # Sentry project slug
SENTRY_AUTH_TOKEN=                             # Sentry auth token (for source map uploads in CI)

# Meta OAuth / Graph
META_APP_ID=
META_APP_SECRET=
META_BUSINESS_APP_ID=
META_BUSINESS_ID=
META_OAUTH_REDIRECT_URI=https://gigaviz.com/api/meta/oauth/callback
META_GRAPH_API_VERSION=v21.0                   # Graph API version for all Meta services (Instagram, Messenger, Ads)
META_GRAPH_VERSION=v21.0                       # Alias for META_GRAPH_API_VERSION
META_SYSTEM_USER_TOKEN=
META_WHATSAPP_ACCESS_TOKEN=

# Meta Hub toggles
META_HUB_WA_ENABLED=true
META_HUB_IG_ENABLED=false
META_HUB_MS_ENABLED=false
META_HUB_ADS_ENABLED=false
META_HUB_INSIGHTS_ENABLED=false
META_HUB_WA_TEST_DRY_RUN=false
META_HUB_ALLOW_PENDING_TEST=false

# Webhook verification (canonical + aliases)
META_WEBHOOK_VERIFY_TOKEN=
WA_WEBHOOK_VERIFY_TOKEN=
WEBHOOK_VERIFY_TOKEN=

# WhatsApp Cloud API
NEXT_PUBLIC_META_APP_ID=
NEXT_PUBLIC_META_CONFIG_ID=
NEXT_PUBLIC_META_SOLUTION_ID=
WA_ACCESS_TOKEN=
WA_CLOUD_API_TOKEN=
WA_CLOUD_API_SYSTEM_USER_TOKEN=
WA_WABA_ID=
WA_PHONE_NUMBER_ID=
WA_ADMIN_PHONE=
WA_GRAPH_VERSION=v22.0
WHATSAPP_ACCESS_TOKEN=

# Attachments
ATTACHMENTS_BUCKET=inbox-attachments
ATTACHMENTS_SIGNED_URL_TTL=600

# Rate limit & workers
ENABLE_WA_SEND=false
RATE_CAP_PER_MIN=20
RATE_DELAY_MIN_MS=800
RATE_DELAY_MAX_MS=2200
WORKER_ID=
WORKER_BATCH_SIZE=20
WORKER_MAX_ATTEMPTS=5
WORKER_POLL_INTERVAL_MS=2000

# Cron (Vercel Cron Jobs authentication)
CRON_SECRET=                                   # Required for /api/cron/* endpoints (generate with: openssl rand -base64 32)
VERCEL_CRON_SECRET=                            # Alternative to CRON_SECRET (Vercel auto-sets this)

# Helper providers (server-only)
OPENAI_API_KEY=                                # REQUIRED for embeddings (text-embedding-ada-002) and Helper chat
ANTHROPIC_API_KEY=
GEMINI_API_KEY=
OLLAMA_URL=http://127.0.0.1:11434
OLLAMA_MODEL=gemma3:4b
NLP_API_URL=
NLP_SENTIMENT_URL=
NLP_API_KEY=
NLP_SENTIMENT_KEY=
N8N_WEBHOOK_URL=
N8N_SHARED_SECRET=

# Knowledge Base / RAG
KB_ALLOWED_DOMAINS=
KB_SITEMAP_URLS=
KB_SEED_URLS=
KB_MAX_PAGES_PER_RUN=200
KB_USER_AGENT=GigavizBot/1.0 (+contact email optional)
KB_EMBED_PROVIDER=openai
KB_EMBED_MODEL=text-embedding-3-small
KB_EMBED_DIM=1536
KB_CHUNK_MAX_CHARS=2200
KB_CHUNK_OVERLAP_CHARS=200
KB_BLOCKED_PATH_PREFIXES=/api,/auth,/admin,/dashboard,/settings,/billing,/workspace,/tokens
KB_BLOCKED_QUERY_KEYS=token,code,key,secret,session,auth

# Ops Alerting (Slack / Discord / generic webhook)
OPS_SLACK_WEBHOOK_URL=                         # Slack Incoming Webhook for ops alerts
OPS_DISCORD_WEBHOOK_URL=                       # Discord Webhook for ops alerts
OPS_ALERT_WEBHOOK_URL=                         # Generic webhook (any service) for ops alerts

# Upstash Redis (for rate limiting and worker queues)
UPSTASH_REDIS_REST_URL=https://your-db.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# Legacy / unused (kept for compatibility; commented out)
# WA_VERIFY_TOKEN=
# BILLING_PROVIDER=manual
# XENDIT_SECRET_KEY=
# MIDTRANS_SERVER_KEY=
# MIDTRANS_CLIENT_KEY=
# KB_ADMIN_REINDEX_TOKEN=
# KB_INDEX_CRON_ENABLED=true
